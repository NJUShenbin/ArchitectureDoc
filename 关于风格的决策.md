# 关于风格的决策

---

### 风格使用1 总体使用分层风格

风格

* 分层风格

相关功能

* 全部功能

质量要求和决策依据

* 分层风格结构清晰,容易理解

* 分层风格对层内的实现不限制,在层内可以使用其他风格,因此选用分层作为整体风格

* 分层风格的测试比较方便

* 开发人员对分层风格较为熟悉

影响的模型视图部分

* 逻辑视图大致分为 路由层,应用层,数据层

### 风格使用2 pipe-filter过滤请求

风格

* pipe-filter

相关功能

* 入侵检测
* 屏蔽IP
* 静态资源访问
* 请求路由

质量要求和决策依据

* 出于对性能的各方面要求,使用filter尽早过滤掉非法请求,静态资源请求,可以减轻服务器压力

* 使用pipe-filter风格,可以方便的集成进第三方软件和web框架

影响的模型视图部分

* 原先架构中已经设计,没有影响

### 风格使用3 pipe-filter过滤商品

风格

* pipe-filter

相关功能

* 屏蔽特定商品
* 调整商品顺序

质量要求和决策依据

* 有利于屏蔽商品和调整商品顺序的可拓展性,添加新规则比较容易

影响的模型视图部分

* search service部分改用管道过滤器处理结果

### 风格使用3 pipe-filter过滤评论

风格

* pipe-filter

相关功能

* 敏感词检测
* 水军检测

质量要求和决策依据

* 以上操作都对评论进行一系列处理
* 敏感词检测将来可能增加新的规则,使用pipe-filter方便将来拓展.

影响的模型视图部分

* comment service部分改用管道过滤器处理评论

### 风格使用4 面向对象式兼容不同网站

风格

* 面向对象式

相关功能

* 兼容多个电商网站

质量要求和决策依据

* 不同电商网站的搜索接口和商品信息是类似的,可以设计出抽象接口.适合用策略模式
* 添加新的电商网站时,可以拓展出新的策略

影响的模型视图部分

* search service使用抽象商品服务

### 风格使用5 面向对象式兼容不同通知方式

风格

* 面向对象式

相关功能

* 通知管理员
* 通知商家
* 通知功能可拓展

质量要求和决策依据

* 通知功能可以设计出抽象的接口,可以用策略模式封装不同类型的通知

影响的模型视图部分

* comment filter中使用抽象通知服务



