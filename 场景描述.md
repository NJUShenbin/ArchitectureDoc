<style type="text/css">
 thead {
  display : none;
 }
</style>

# 场景描述

---

### S1 保证数据可靠性

相关设计约束

* C1: 数据存储出现故障要能继续工作 
* C2: 数据存储出现故障的频率要小于1次/周 
* C3: 数据故障恢复时间要小于12小时

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 数据存储服务器出现故障 |
| 刺激源 | 用户 |
| 环境 | 正常使用时 |
| 制品 | 数据库集群,搜索引擎集群 |
| 响应 | 从其他可用的存储服务中读写数据,正常响应 |
| 响应的度量 | 单个存储服务器故障可以正常运行 , 故障服务器重启后可以继续工作 |

### S2 服务器故障不影响访问

相关设计约束

* C4: 服务器出现故障不影响网站访问  

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 应用服务器出现故障 |
| 刺激源 | 用户 |
| 环境 | 正常使用时 |
| 制品 | 多实例应用,负载均衡服务 |
| 响应 | 向其他可用服务器请求,正常响应 |
| 响应的度量 | 单个应用服务器故障可以正常运行 , 故障服务器重启后可以继续工作 |

### S3 及时发现服务器故障

相关设计约束

* C5: 服务器出现故障能在1小时内发现

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 应用服务器出现故障 |
| 刺激源 | 用户 |
| 环境 | 正常使用时 |
| 制品 | 应用监控服务 |
| 响应 | 发消息通知系统管理员 |
| 响应的度量 | 服务器故障能在1小时内通知到管理员 |

### S4 兼容多种电商网站

相关设计约束

* C6: 至少能兼容两种电商网站
* C7: 能兼容Amazon等英文网站

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 加入新的电商网站 |
| 刺激源 | 开发人员 |
| 环境 | 开发时 |
| 制品 | 抽象商品接口及其实现 |
| 响应 | 能够从新的网站获取商品数据 |
| 响应的度量 | 能获取数据且抽象商品接口不因此改变 |

### S5 更新数据时系统可用

相关设计约束
* C8: 后台数据更新时,系统仍然可以使用
* C9: 后台更新数据时,用户搜索时间时间增加在一倍以下

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 后台更新数据 |
| 刺激源 | 用户或定时任务 |
| 环境 | 正常运行时 |
| 制品 | 搜索引擎 |
| 响应 | 数据被更新 |
| 响应的度量 | 后台更新数据时,用户搜索时间时间增加在一倍以下|


### S6 兼容多浏览器

相关设计约束

* C10: 兼容多种浏览器
* C11: 在IE6,7环境中,网站可以显示
* C12: 在Chrome,Firefox,IE8以上可以完整显示

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 在新的浏览器上访问网页|
| 刺激源 | 用户 |
| 环境 | 正常运行时 |
| 制品 | 特性检测器,polyfill |
| 响应 | 在新的浏览器上正常打开 |
| 响应的度量 | C11 C12 |

### S7 搜索易用性

相关设计约束

* C13: 能兼容出现频率前100的关键字的同义词

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 用户请求搜索 |
| 刺激源 | 用户 |
| 环境 | 正常运行时 |
| 制品 | 分词器的同义词表 |
| 响应 | 系统能识别同义词并进行搜索 |
| 响应的度量 | 搜索结果中包含关键字及其同义词的相关结果 |

### S8 允许通过竞价排名调整搜索顺序

相关设计约束

* C14: 允许通过竞价排名调整搜索排序

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 用户请求搜索 |
| 刺激源 | 用户 |
| 环境 | 正常运行时 |
| 制品 | 搜索结果排序模块 |
| 响应 | 系统返回搜索结果 |
| 响应的度量 | 系统能将参与竞价商品排在前列 |

### S9 允许屏蔽商品

相关设计约束

* C15: 允许屏蔽特定商品
* C16: 允许运行时添加屏蔽商品

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 用户请求搜索 |
| 刺激源 | 用户 |
| 环境 | 正常运行时 |
| 制品 | 搜索结果屏蔽模块 |
| 响应 | 系统返回搜索结果 |
| 响应的度量 | 系统能屏蔽特定商品,并允许运行时添加屏蔽商品 |

### S10 存储容量足够大

相关设计约束

* C17: 能容纳1千万商品的信息 

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 用户请求搜索或到达某个时间点 |
| 刺激源 | 用户或定时任务 |
| 环境 | 正常运行时 |
| 制品 | 足够大的存储空间,搜索引擎集群 |
| 响应 | 系统保存数据 |
| 响应的度量 | 系统能容纳1千万商品的信息 |

### S11 保证存取效率

相关设计约束

* C18: 对频繁访问的商品,读取速度<0.01秒
* C19: 搜索的响应时间<1s

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 用户请求搜索 |
| 刺激源 | 用户 |
| 环境 | 正常运行时 |
| 制品 | 缓存服务,搜索引擎集群 |
| 响应 | 系统读取数据并返回 |
| 响应的度量 | C18 C19 |

### S12 高峰吞吐量

相关设计约束

* C20: 高峰时间允许500万用户同时使用 

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 用户访问网页 |
| 刺激源 | 用户 |
| 环境 | 正常运行时 |
| 制品 | CDN,缓存服务,多实例应用,负载均衡,搜索引擎集群,数据库集群 |
| 响应 | 显示网页 |
| 响应的度量 | 高峰时间允许500万用户同时使用 |

### S13 入侵检测

相关设计约束

* C21: 若用户一分钟内访问频度超过200次,视为攻击并屏蔽 阻碍R10
* C22: 添加新的入侵检测规则能在1人/月内完成

场景内容

|  |  |
| :--- | :--- |
| 刺激 | 用户访问网页 |
| 刺激源 | 用户 |
| 环境 | 正常运行时 |
| 制品 | 服务器安全软件及相关配置 |
| 响应 | 显示网页或拒绝访问 |
| 响应的度量 | C21 C22 |

















