# 设计决策

---

### 决策1

约束

* C1: 数据存储出现故障要能继续工作
* C2: 数据存储出现故障的频率要小于1次/周
* C3: 数据故障恢复时间要小于12小时

方案

* 采用数据库集群存储评论等数据
* 采用搜索引擎集群存储商品信息数据

影响

* 全部视图

新增的约束

* AC1:  数据库集群和搜索引擎集群具有一致性更新功能
* AC2:  数据库集群和搜索引擎集群具有故障切换功能

### 决策2

约束

* C4: 服务器出现故障不影响网站访问

方案

* 运行多个应用实例

影响

* 全部视图

新增的约束

* 应用服务器要使用cluster RPC访问

### 决策3

